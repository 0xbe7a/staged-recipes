{% set version = '0.2.1' %}
{% set posix = 'm2-' if win else '' %}

package:
  name: r-stormr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/StormR_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/StormR/StormR_{{ version }}.tar.gz
  sha256: 7bdf69145ee624eb244fea3a3d1272ddacce382da9d6de3cc5d40c3fd029822c

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  missing_dso_whitelist:
    - '*/R.dll'        # [win]
    - '*/Rblas.dll'    # [win]
    - '*/Rlapack.dll'  # [win]

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-leaflet
    - r-maps
    - r-ncdf4
    - r-rworldmap
    - r-sf
    - r-stringr
    - r-terra
    - r-zoo
  run:
    - r-base
    - r-leaflet
    - r-maps
    - r-ncdf4
    - r-rworldmap
    - r-sf
    - r-stringr
    - r-terra
    - r-zoo

test:
  commands:
    - $R -e "library('StormR')"           # [not win]
    - "\"%R%\" -e \"library('StormR')\""  # [win]

about:
  home: https://umr-amap.github.io/StormR/
  license: GPL-3
  summary: Set of functions to quantify and map the behaviour of winds generated by tropical
    storms and cyclones in space and time. It includes functions to compute and analyze
    fields such as the maximum sustained wind field, power dissipation index and duration
    of exposure to winds above a given threshold. It also includes functions to map
    the trajectories as well as characteristics of the storms.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - conda-forge/r
    - thomasarsouze

# Package: StormR
# Title: Analyzing the Behaviour of Wind Generated by Tropical Storms and Cyclones
# Maintainer: Thomas Arsouze <thomas.arsouze@cirad.fr>
# Version: 0.2.1
# URL: https://umr-amap.github.io/StormR/
# BugReports: https://github.com/umr-amap/StormR/issues/new/choose
# Authors@R: c( person("Baptiste", "Delaporte", , "baptiste.delaporte@protonmail.com", role = "aut"), person("Thomas", "Ibanez", , "thomas.ibanez@ird.fr", role = "aut", comment = c(ORCID = "0000-0002-3192-1721")), person("Gunnar", "Keppel", , "Gunnar.Keppel@unisa.edu.au", role = "aut", comment = c(ORCID = "0000-0001-7092-6149")), person("Swen", "Jullien", , "swen.jullien@ifremer.fr", role = "aut", comment = c(ORCID = "0000-0002-5389-0532")), person("Christophe", "Menkes", , "Christophe.Menkes@ird.fr", role = "aut", comment = c(ORCID = "0000-0002-1457-9696")), person("Thomas", "Arsouze", , "thomas.arsouze@cirad.fr", role = c("aut", "cre"), comment = c(ORCID = "0000-0002-8871-6120")) )
# Description: Set of functions to quantify and map the behaviour of winds generated by tropical storms and cyclones in space and time. It includes functions to compute and analyze fields such as the maximum sustained wind field, power dissipation index and duration of exposure to winds above a given threshold. It also includes functions to map the trajectories as well as characteristics of the storms.
# License: GPL (>= 3)
# Depends: R (>= 2.10)
# Imports: graphics, leaflet, maps, methods, ncdf4, rworldmap, sf, stringr, terra, utils, zoo
# Suggests: knitr, rmarkdown, rworldxtra, testthat (>= 3.0.0)
# VignetteBuilder: knitr
# Config/testthat/edition: 3
# Encoding: UTF-8
# LazyData: true
# RoxygenNote: 7.2.3
# NeedsCompilation: yes
# Packaged: 2024-07-24 14:42:50 UTC; arsouze
# Author: Baptiste Delaporte [aut], Thomas Ibanez [aut] (<https://orcid.org/0000-0002-3192-1721>), Gunnar Keppel [aut] (<https://orcid.org/0000-0001-7092-6149>), Swen Jullien [aut] (<https://orcid.org/0000-0002-5389-0532>), Christophe Menkes [aut] (<https://orcid.org/0000-0002-1457-9696>), Thomas Arsouze [aut, cre] (<https://orcid.org/0000-0002-8871-6120>)
# Repository: CRAN
# Date/Publication: 2024-07-24 15:10:02 UTC
