context:
  version: "0.3.0.1"

package:
  name: robo-gym-server-modules
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/r/robo-gym-server-modules/robo-gym-server-modules-${{ version }}.tar.gz
  sha256: 6e4cbd45a10be9afc29d9eaba167e207d30877da252a0a816125043461ca6a0f

build:
  noarch: python
  number: 0
  script: pip install . -v
  files:
    exclude:
      - robo_gym_server_modules/logs

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - setuptools
    - wheel
  run:
    - python >=${{ python_min }}
    - grpcio
    - protobuf >=3.20,<3.21
    - pyyaml
    - libtmux

tests:
  - python:
      imports:
        - robo_gym_server_modules
        - robo_gym_server_modules.server_manager
        - robo_gym_server_modules.robot_server
      python_version: ${{ python_min }}.*
  - package_contents:
      files:
        - "**/start-server-manager"
        - "**/kill-server-manager"
        - "**/attach-to-server-manager"
        - "**/kill-all-robot-servers"
        - "**/restart-server-manager"

about:
  homepage: https://sites.google.com/view/robo-gym
  summary: Robot Servers and Server Manager software for robo-gym
  description: |
    robo-gym-server-modules provides Robot Servers and Server Manager software for robo-gym.
    The Server Manager takes care of starting and managing the correct simulation/s and Robot Server/s.
    Depending on the setup that you choose, the Server Manager could be running on the same machine
    on which you call env.make() or on another machine connected via network.
    
    This package is part of the robo-gym framework, an open source toolkit for Distributed Deep
    Reinforcement Learning on real and simulated robots.
  license: MIT
  license_file: LICENSE
  documentation: https://github.com/jr-robotics/robo-gym-server-modules/blob/master/README.md
  repository: https://github.com/jr-robotics/robo-gym-server-modules

extra:
  recipe-maintainers:
    - zelosleone
