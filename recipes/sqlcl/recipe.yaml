context:
  name: sqlcl
  version: "25.2.2.199.0918"

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  url: https://download.oracle.com/otn_software/java/sqldeveloper/sqlcl-${{ version }}.zip
  sha256: 62c20426441779520006c0973417d3e9665bad7babd61a046458fdec9bc61d5f
  target_directory: sqlcl

build:
  number: 0
  noarch: generic
  script:
    - mkdir -p $PREFIX/opt/sqlcl
    - cp -r sqlcl/* $PREFIX/opt/sqlcl/
    - mkdir -p $PREFIX/bin
    - ln -s $PREFIX/opt/sqlcl/bin/sql $PREFIX/bin/sql
    - chmod +x $PREFIX/opt/sqlcl/bin/sql

requirements:
  run:
    - __unix
    - openjdk >=11
  run_constraints:
    - parallel ==99999999999  # conflict with gnu parallel due to both providing /bin/sql

tests:
  - package_contents:
      files:
        - opt/sqlcl/bin/sql
        - bin/sql
  - script:
      - sql -version

about:
  homepage: https://www.oracle.com/database/sqldeveloper/technologies/sqlcl/
  license: LicenseRef-Oracle-Free-Use
  license_file:
    - sqlcl/LICENSE.txt
    - sqlcl/THIRD-PARTY-LICENSES.txt
  summary: Oracle SQLcl (SQL Developer Command Line) - Java-based command line interface for Oracle Database
  description: |
    Oracle SQLcl (SQL Developer Command Line) is a free command line interface for Oracle Database.

    SQLcl provides inline editing, statement completion, command recall, and supports existing SQL*Plus scripts.
    Using SQLcl, you can execute SQL and PL/SQL statements in interactive or batch mode.

    Key features:
    - Command line interface for Oracle Database
    - SQL*Plus compatibility
    - Advanced features like Data Pump and AWR support
    - Inline editing and statement completion
    - Java-based, cross-platform tool
  documentation: https://docs.oracle.com/en/database/oracle/sql-developer-command-line/
  repository: https://www.oracle.com/database/sqldeveloper/technologies/sqlcl/download/

extra:
  recipe-maintainers:
    - chrisburr
