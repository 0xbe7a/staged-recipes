{% set name = "polyglotdb" %}
{% set version = "1.3.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 8457eaf2017be653cb81fe6cd8f654e04610d06e92d7c8767db23ab9189b262b

build:
  script: {{ PYTHON }} -m pip install . -vv
  number: 0
  noarch: python

requirements:
  host:
    - python
    - pip
    - setuptools
  run:
    - python
    - conch_sounds
    - influxdb
    - librosa
    - praatio
    - requests
    - tqdm

test:
  imports:
    - polyglotdb
    - polyglotdb.acoustics
    - polyglotdb.acoustics.formants
    - polyglotdb.acoustics.pitch
    - polyglotdb.acoustics.vot
    - polyglotdb.client
    - polyglotdb.corpus
    - polyglotdb.databases
    - polyglotdb.io
    - polyglotdb.io.enrichment
    - polyglotdb.io.exporters
    - polyglotdb.io.importer
    - polyglotdb.io.inspect
    - polyglotdb.io.parsers
    - polyglotdb.io.types
    - polyglotdb.query
    - polyglotdb.query.annotations
    - polyglotdb.query.annotations.attributes
    - polyglotdb.query.base
    - polyglotdb.query.discourse
    - polyglotdb.query.lexicon
    - polyglotdb.query.metadata
    - polyglotdb.query.speaker
    - polyglotdb.syllabification
  requires:
    - pip
  commands:
    - pip check

about:
  home: https://github.com/MontrealCorpusTools/PolyglotDB
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: PolyglotDB is a Python package for storing and querying large speech corpora.
  doc_url: https://polyglotdb.readthedocs.io/en/latest/index.html
  dev_url: https://github.com/MontrealCorpusTools/PolyglotDB

extra:
  recipe-maintainers:
    - mmcauliffe
