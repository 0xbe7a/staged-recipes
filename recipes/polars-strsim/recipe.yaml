context:
  name: polars-strsim
  version: "0.2.5"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  # url: https://files.pythonhosted.org/packages/60/9d/d0b51d3991fc2ff0f1d2c6d0c6eb03a1ad8afeb5a35632ec2f6066194a5a/${{ name|replace("-","_") }}-${{ version }}.tar.gz
  url: https://github.com/foxcroftjn/${{ name }}/archive/refs/tags/v${{ version }}.tar.gz
  sha256: 7e64e1153bb84dca22c0c09454d2630037d8f369d40b9f85642dcb99cf990967

build:
  script:
    content:
      - echo $BUILD_DIR
      - echo $TARGET
      - printenv
      - python -m pip install . -vv
      - cargo-bundle-licenses --format yaml --output THIRDPARTY.yml
    env:
      RUST_BACKTRACE: "1"
  number: 0

requirements:
  build:
    - ${{ compiler('rust') }}
    - ${{ compiler('c') }}
    - ${{ stdlib('c') }}
    - cargo-bundle-licenses
    - pkg-config
    - make
  host:
    - python
    - maturin >=1.7.1,<2.0
    - pip
  run:
    - python
    - polars >1.2,<2.0
  
tests:
  - python:
      imports:
        - polars_strsim
      pip_check: true

about:
  homepage: https://github.com/foxcroftjn/polars-strsim
  summary: 'Polars extension for string similarity'
  description: |
    This package provides python bindings to compute various string similarity measures directly on a polars dataframe. All string similarity measures are implemented in rust and computed in parallel. The similarity measures that have been implemented are:
    Levenshtein
    Jaro
    Jaro-Winkler
    Jaccard
    SÃ¸rensen-Dice
    Each similarity measure returns a value normalized between 0.0 and 1.0 (inclusive), where 0.0 indicates the inputs are maximally different and 1.0 means the strings are maximally similar.
  license: MIT
  license_file: 
    - LICENSE
    - THIRDPARTY.yml
  repository: https://github.com/foxcroftjn/polars-strsim

extra:
  recipe-maintainers:
    - EllaBootQC
