{% set name = "glinfo-rs" %}
{% set version = "1.0.2" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/ESSS/{{ name }}/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 84a6b8aeb25e89b09303860916faf7f6ec866bcdd8b964ccb5af27c000072726

build:
  number: 0
  
requirements:
  build:
    - {{ compiler('c') }}  # [linux]
    - {{ stdlib('c') }}  # [linux]
    - rust 1.88.*

test:
  commands:
    # Skip on Linux since there is no OpenGL rendering available on conda-forge runners.
    - glinfo  # [not linux] 


about:
  home: https://github.com/ESSS/glinfo-rs.git
  summary: 'Small utility to assess the OpenGL capabilities of the current environment'
  description: |
    glinfo is a small utility to assess the OpenGL capabilities of the current 
    environment. This is a Rust rewrite of glinfo, with the aim of not depending
    on Qt and being statically linked.
  license: MIT
  license_family: MIT
  license_file: LICENSE
  dev_url: https://github.com/ESSS/glinfo-rs.git


extra:
  recipe-maintainers:
    - nicoddemus
    - igortg
