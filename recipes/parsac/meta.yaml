{% set name = "parsac" %}
{% set version = "2.0.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/BoldingBruggeman/{{ name }}/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 2fe2b6582cf0fd0d45ba2121d377c5fe8c2f8f9b74a4b8ebc4a1bbfd14736445

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  build:
  host:
    - python
    - pip
    - hatchling
    - hatch-vcs
  run:
    - python
    - numpy
    - scipy
    - tqdm
    - netCDF4
    - salib
    - matplotlib-base

test:
  imports:
    - parsac
  requires:
    - pip
  commands:
    - pip check

about:
  home: https://github.com/BoldingBruggeman/parsac
  summary: 'Parallel Sensitivity Analysis and Calibration'
  description: |
    parsac is a Python-based tool for sensitivity analysis and auto-calibration in parallel.
    It is designed for analysis of models that take significant time to run. For that reason,
    it focuses on storing and exploiting every single model result, and performing model
    runs in parallel on either a single machine or on computer clusters. It works with
    models that are run by calling one binary, that use YAML-based configuration files
    and that write their output to NetCDF.
  license: GPL-2.0-only
  license_family: GPL
  license_file: LICENSE

extra:
  recipe-maintainers:
    - jornbr
