{% set name = "mpl-data-containers" %}
{% set version = "0.1.4" %}
{% set python_min = "3.10" %}

package:
  name: {{ name|lower }}-pkg
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/mpl_data_containers-{{ version }}.tar.gz
  sha256: c281a326dc311ea85f1618a56d39ebe4c9e7bef5c263d7922c211a5c8b81a316

build:
  number: 0
  noarch: python

outputs:
  - name: {{ name }}
    script: build_base.sh
    build:
      noarch: python
    requirements:
      host:
        - python {{ python_min }}
        - setuptools-scm >=7
        - setuptools >=45
        - pip
      run:
        - cachetools
        - matplotlib-base
        - pandas
        - python >={{ python_min }}
        - xarray
    test:
      imports:
        - mpl_data_containers
      commands:
        - pip check
      requires:
        - python {{ python_min }}
        - pip

  - name: mpl_data_containers
    build:
      noarch: generic
    requirements:
      run:
        - {{ pin_subpackage(name, max_pin="x.x.x") }}
    test:
      imports:
        - mpl_data_containers

about:
  home: https://github.com/matplotlib/data-prototype
  doc_url: https://matplotlib.org/data-prototype/
  summary: Experimental code for the upcoming Matplotlib data refactor.
  license: BSD-3-Clause
  license_file: LICENSE

extra:
  recipe-maintainers:
    - awvwgk
  feedstock-name: {{ name }}
