schema_version: 1

context:
  name: libvalkey-py
  version: "4.0.1"

package:
  name: "${{ name }}"
  version: "${{ version }}"

source:
  git: https://github.com/valkey-io/libvalkey-py
  sha: 8da2db7c7eb61b7412f2940a8a516e2465a98a6a # v4.0.1

build:
  number: 2
  script:
    content:
      - ${{ PYTHON }} -m pip install --use-pep517 --no-build-isolation .

requirements:
  build:
    - python
    - setuptools
    - ${{ compiler('c') }}
    - ${{ stdlib('c') }}

  host:
    - python
    - setuptools
    - pip

  run:
    - python

tests:
  - python:
      imports:
        - libvalkey

about:
  license: MIT
  license_file:
    - LICENSE
  summary: Python extension that wraps protocol parsing code in libvalkey. It primarily speeds up parsing of multi bulk replies.
  description: |
    Python extension that wraps protocol parsing code in libvalkey.
    It primarily speeds up parsing of multi bulk replies.
  homepage: https://github.com/valkey-io/libvalkey-py
  repository: https://github.com/valkey-io/libvalkey-py

extra:
  recipe-maintainers:
    - trim21
