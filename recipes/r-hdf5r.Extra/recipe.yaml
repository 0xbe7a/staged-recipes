schema_version: 1

context:
  name: hdf5r.Extra

package:
  name: r-${{ name }}
  version: ${{ version }}

source:
  url: https://cran.r-project.org/src/contrib/hdf5r.Extra_${{ version }}.tar.gz
  sha256: af6385b01efb2a33c37972f245a58d4202b7cc33e2b40b949ec09d642252d7cd

build:
  number: 0
  script: R CMD INSTALL --build .
  merge_build_and_host_envs: true
  dynamic_linking:
    rpaths:
      - lib/R/lib/
      - lib/

requirements:
  host:
    - r-Matrix
    - r-base
    - r-checkmate
    - r-dplyr
    - r-easy.utils
    - r-rlang
  run:
    - r-Matrix
    - r-base
    - r-checkmate
    - r-dplyr
    - r-easy.utils
    - r-rlang

tests:
  - script:
      - if: not win
        then: Rscript -e  \"library\('hdf5r.Extra'\)\"
      - if: win
        then: Rscript -e \"library('hdf5r.Extra')\"

about:
  summary: "Some methods to manipulate 'HDF5' files, extending the 'hdf5r' package. Reading and writing R objects to 'HDF5' formats follow the specification of 'AnnData' <https://anndata.readthedocs.io/en/latest/fileformat-prose.html>."
  license: MIT
  homepage: https://github.com/ycli1995/hdf5r.Extra

extra:
  recipe-maintainers:
    - theAeon
