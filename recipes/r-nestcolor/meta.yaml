{% set version = '0.1.3' %}
{% set posix = 'm2-' if win else '' %}

package:
  name: r-nestcolor
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/nestcolor_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/nestcolor/nestcolor_{{ version }}.tar.gz
  sha256: ca04e8cab8a12eef3e936e20461eee30aefc063908f0cc1cf81b9bca18b32ced

build:
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/
  missing_dso_whitelist:
    - '*/R.dll'        # [win]
    - '*/Rblas.dll'    # [win]
    - '*/Rlapack.dll'  # [win]

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-checkmate >=2.1.0
    - r-ggplot2 >=3.5.0
    - r-lifecycle >=1.0.3
  run:
    - r-base
    - r-checkmate >=2.1.0
    - r-ggplot2 >=3.5.0
    - r-lifecycle >=1.0.3

test:
  commands:
    - $R -e "library('nestcolor')"           # [not win]
    - "\"%R%\" -e \"library('nestcolor')\""  # [win]

about:
  home: https://insightsengineering.github.io/nestcolor/, https://github.com/insightsengineering/nestcolor/
  license: Apache-2.0
  summary: Clinical reporting figures require to use consistent colors and configurations. As
    a part of the Roche open-source clinical reporting project, namely the NEST project,
    the 'nestcolor' package specifies the color code and default theme with specifying
    'ggplot2' theme parameters. Users can easily customize color and theme settings
    before using the reset of NEST packages to ensure consistent settings in both static
    and interactive output at the downstream.
  license_family: APACHE
  license_file:
    - LICENSE-2.0.txt

extra:
  recipe-maintainers:
    - conda-forge/r
