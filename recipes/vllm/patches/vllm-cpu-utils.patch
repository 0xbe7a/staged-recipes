diff --git a/csrc/cpu/utils.cpp b/csrc/cpu/utils.cpp
index 42a1c1d9..a8ce6ad7 100644
--- a/csrc/cpu/utils.cpp
+++ b/csrc/cpu/utils.cpp
@@ -7,6 +7,9 @@
 
 #include "cpu_types.hpp"
 
+#include <sys/syscall.h>
+#define gettid() syscall(SYS_gettid)
+
 #ifdef VLLM_NUMA_DISABLED
 std::string init_cpu_threads_env(const std::string& cpu_ids) {
   return std::string(
