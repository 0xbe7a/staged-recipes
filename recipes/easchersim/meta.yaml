{% set name = "easchersim" %}
{% set version = "v1.2.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://gitlab.com/c4341/easchersim/-/archive/v1.2.0/easchersim-v1.2.0.tar.gz
  sha256: 863a1b297746572453f355b219a0f17d42a3cea8eb0b1b6e67219b39260948d3

build:
  number: 0
  script: |
    {% if win %}
    set SETUPTOOLS_SCM_PRETEND_VERSION={{ version }} && {{ PYTHON }} -m pip install --no-deps . -vv
    {% else %}
    export SETUPTOOLS_SCM_PRETEND_VERSION={{ version }}
    {{ PYTHON }} -m pip install --no-deps . -vv
    {% endif %}
  skip: true  # [win]

requirements:
  host:
    - python {{ python }}
    - pip
    - setuptools >=46
    - setuptools_scm[toml] >=3.4
    - numpy >=1.20
    - wheel

  run:
    - numpy >=1.20
    - python
    - scipy
    - matplotlib
    - importlib_resources
    - matplotlib
    - matplotlib-label-lines
    - rich

test:
  commands:
    - easchersim -h
    - easchersim make-config --help
    - easchersim run -h
  imports:
    - easchersim

about:
  home: https://gitlab.com/c4341/easchersim
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE
  summary: 'Calculating Optical Cherenkov profile of Extensive Air Showers'
  description: |
    This tool simulates the Cherenkov light emission for extensive air showers with 
    trajectories below and above the limb as a full Monte Carlo simulation.
    As a result, it provides the photon spatial, time, and angular distribution at the 
    detection plane. The tool has the option to take the effect of a magnetic field 
    into account.
  dev_url: https://gitlab.com/c4341/easchersim
  doc_url: https://c4341.gitlab.io/easchersim

extra:
  recipe-maintainers:
    - j-eser
    - aucummin 
