
{% set name = "cf-m2-build-bat" %}
{% set version = "0.2" %}


package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/owinebar/cf-m2-build-bat/archive/refs/tags/{{ version }}.tar.gz
  sha256: 020038856e92a4b66280357c6159ed70c74201954ae94c75b62454198f0b780a
    
    
build:
  number: 1
  skip: True  # [not win]
  

requirements:
  run:
    - m2-bash
    - m2-sed
    - m2-base

test:
  requires:
    - conda-build
  source_files:
    - test/meta.yaml
    - test/build.sh
    - test/test.sh
    - test/bld.bat
    - test/test.bat
    - test/test-cf-m2-build-bat.sh
  commands:
    - set "CONDA_BUILD="
    - conda build --no-anaconda-upload --keep-old-work test

about:
  home: https://github.com/owinebar/cf-m2-build-bat
  license: AGPL-3.0-or-later
  license_file: LICENSE
  license_url: https://www.gnu.org/licenses/agpl.txt
  summary:  Use m2-* environment in conda build on win-64 host
  description: |
    This package provides some scripts that allow trampolining from
    CMD to an MSYS2 environment on the build or test environment of
    a conda build run.  The test case is a simple conda build recipe
    using the trampolines during the build and test phases, and
    serves as an example of its usage.

  
extra:
  recipe-maintainers:
    - owinebar
    
