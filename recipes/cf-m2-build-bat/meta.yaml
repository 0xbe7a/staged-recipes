
{% set name = "cf-m2-build-bat" %}
{% set version = "0.0.1" %}


package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/owinebar/cf-m2-build-bat/archive/refs/tags/{{ version }}.tar.gz
  sha256: c6ab77e41c0cdbbb45f79adeebec57fdc94a357347955a9fdb42219fe0d54220
    
build:
  number: 4
  skip: True  # [not win]
  

requirements:
  run:
    - m2-bash
    - m2-sed
    - m2-base

test:
  requires:
    - conda-build
  source_files:
    - test.sh
    - test
    - examples/gmp
  commands:
    - CALL trampoline_test_bash.bat MINGW64 "./test.sh"

about:
  home: https://github.com/owinebar/cf-m2-build-bat
  license: AGPL-3.0-or-later
  license_file: LICENSE
  license_url: https://www.gnu.org/licenses/agpl.txt
  summary:  Use m2-* environment in conda build on win-64 host
  description: |
    This package provides some scripts that allow trampolining from
    CMD to an MSYS2 environment on the build or test environment of
    a conda build run.  The test case is a simple conda build recipe
    using the trampolines during the build and test phases, and
    serves as an example of its usage.

  
extra:
  recipe-maintainers:
    - owinebar
    
