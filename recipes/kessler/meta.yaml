{% set name = "kessler" %}
{% set version = "1.0.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/kesslerlib/kessler/archive/refs/tags/{{ version }}.tar.gz
  sha256: d5558cd419c8d46bdc958064cb97f963d1ea793866414c025906ec15033512ed

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation

requirements:
  host:
    - python {{ python_min }}
    - pip
    - setuptools
  run:
    - python >={{ python_min }}
    - pytorch
    - dsgp4
    - skyfield >=1.26
    - pandas
    - pyro-ppl
    - numpy
    - matplotlib-base

test:
  imports:
    - kessler
  requires:
    - python {{ python_min }}
    - pytest
    - pytest-asyncio
  source_files:
    - tests
  commands:
    - pytest

about:
  home: https://github.com/kesslerlib/kessler/
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.md
  summary: 'Machine learning and simulation-based inference for space collision assessment and avoidance.'
  description: |
    *kessler* is a Python package for simulation-based inference and machine learning 
    for space collision avoidance and assessment. It is named in honor of NASA scientist
    Donald J. Kessler known for his studies regarding space debris and proposing the  
    Kessler syndrome. The package can parse, analyze, and plot conjunction data
    messages (CDMs), offers tools for training recurrent neural networks to predict CDMs, 
    and includes a simulator to generate synthetic CDMs and perform inference over observed data.
  doc_url: https://kessler.readthedocs.io/
  dev_url: https://github.com/kesslerlib/kessler/

extra:
  recipe-maintainers:
    - Sceki
