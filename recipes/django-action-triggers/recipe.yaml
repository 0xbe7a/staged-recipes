schema_version: 1

context:
  name: django-action-triggers
  version: 0.5.2

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/${{ name[0] }}/${{ name }}/django_action_triggers-${{ version }}.tar.gz
  sha256: 8105eb3f48d9d99527b3ba281529adba516af17a5804ed7d544f5b58840d1e9f

build:
  number: 0
  noarch: python
  script: ${{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation

requirements:
  host:
    - python ${{ python_min }}}.*
    - poetry-core
    - pip
  run:
    - python >=${{ python_min }}},<3.13
    - django >=3.2,<5.1
    - djangorestframework >=3.0.0,<3.15.2
  run_constraints:
    - psycopg2 >=2.9.9,<3.0.0
    - aio-pika >=9.4.3,<10.0.0
    - aiokafka >=0.11.0,<0.12.0
    - redis-py >=5.0.8,<6.0.0
    - aiohttp >=3.10.5,<4.0.0
    - boto3 >=1.35.12,<2.0.0
    - google-cloud-pubsub >=2.25.2,<3.0.0

tests:
  - python:
      imports:
        - django_action_triggers
      pip_check: true
      python_version: ${{ python_min }}}.*

about:
  summary: A Django library for asynchronously triggering actions in response to database changes. It supports integration with webhooks, message brokers (e.g., Kafka, RabbitMQ), and can trigger other processes, including AWS Lambda functions.
  license: MIT
  license_file: LICENSE
  homepage: https://github.com/Salaah01/django-action-triggers

extra:
  recipe-maintainers:
    - thewchan
